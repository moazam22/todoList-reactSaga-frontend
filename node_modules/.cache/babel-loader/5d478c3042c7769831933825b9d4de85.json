{"ast":null,"code":"import _regeneratorRuntime from\"/home/rana/Documents/todoList/todolist/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(fetchLists),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(postApi),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(editList),_marked4=/*#__PURE__*/_regeneratorRuntime.mark(deleteList),_marked5=/*#__PURE__*/_regeneratorRuntime.mark(listSaga);import{call,put,takeEvery,takeLatest}from'redux-saga/effects';import*as types from'../types';import axios from'axios';function getApi(){return axios.get('http://localhost:3001/lists').then(function(resp){return resp;}).catch(function(e){return e;});}function fetchLists(action){var lists;return _regeneratorRuntime.wrap(function fetchLists$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return call(getApi);case 3:lists=_context.sent;_context.next=6;return put({type:types.GET_LISTS_SUCCESS,payload:lists.data.data.listData});case 6:_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);_context.next=12;return put({type:types.GET_LISTS_FAILURE,payload:_context.t0.message});case 12:case\"end\":return _context.stop();}}},_marked,null,[[0,8]]);}function postApi(action){var newList;return _regeneratorRuntime.wrap(function postApi$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.post('http://localhost:3001/lists',action.payload);case 3:newList=_context2.sent;_context2.next=6;return put({type:types.POST_LIST_SUCCESS,payload:newList.data});case 6:_context2.next=12;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);_context2.next=12;return put({type:types.POST_LIST_FAILURE,payload:_context2.t0.message});case 12:case\"end\":return _context2.stop();}}},_marked2,null,[[0,8]]);}function editList(action){var newList;return _regeneratorRuntime.wrap(function editList$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.put(\"http://localhost:3001/lists/\".concat(action.payload.id),action.payload.data);case 3:newList=_context3.sent;_context3.next=6;return put({type:types.PUT_LIST_SUCCESS,payload:newList.data});case 6:_context3.next=12;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](0);_context3.next=12;return put({type:types.PUT_LIST_FAILURE,payload:_context3.t0.message});case 12:case\"end\":return _context3.stop();}}},_marked3,null,[[0,8]]);}function deleteList(action){var newList;return _regeneratorRuntime.wrap(function deleteList$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.delete(\"http://localhost:3001/lists/delete/\".concat(action.payload));case 3:newList=_context4.sent;_context4.next=6;return put({type:types.DELETE_LIST_SUCCESS,payload:newList.data.data});case 6:_context4.next=12;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](0);_context4.next=12;return put({type:types.DELETE_LIST_FAILURE,payload:_context4.t0.message});case 12:case\"end\":return _context4.stop();}}},_marked4,null,[[0,8]]);}function listSaga(){return _regeneratorRuntime.wrap(function listSaga$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return takeLatest(types.GET_LISTS_REQUEST,fetchLists);case 2:_context5.next=4;return takeEvery(types.POST_LIST_REQUEST,postApi);case 4:_context5.next=6;return takeEvery(types.PUT_LIST_REQUEST,editList);case 6:_context5.next=8;return takeEvery(types.DELETE_LIST_REQUEST,deleteList);case 8:case\"end\":return _context5.stop();}}},_marked5);}export default listSaga;","map":{"version":3,"sources":["/home/rana/Documents/todoList/todolist/src/redux/sagas/listSaga.js"],"names":["fetchLists","postApi","editList","deleteList","listSaga","call","put","takeEvery","takeLatest","types","axios","getApi","get","then","resp","catch","e","action","lists","type","GET_LISTS_SUCCESS","payload","data","listData","GET_LISTS_FAILURE","message","post","newList","POST_LIST_SUCCESS","POST_LIST_FAILURE","id","PUT_LIST_SUCCESS","PUT_LIST_FAILURE","delete","DELETE_LIST_SUCCESS","DELETE_LIST_FAILURE","GET_LISTS_REQUEST","POST_LIST_REQUEST","PUT_LIST_REQUEST","DELETE_LIST_REQUEST"],"mappings":"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","sourcesContent":["import {call,put,takeEvery,takeLatest} from 'redux-saga/effects';\nimport * as types from '../types';\nimport axios from 'axios';\n\n\nfunction getApi(){\n\treturn axios.get('http://localhost:3001/lists')\n\t\t.then(resp=> resp)\n\t\t.catch((e) => e)\n}\n\n\nfunction* fetchLists(action){\n\ttry{\n\t\tconst lists = yield call(getApi);\n\t\tyield put({type: types.GET_LISTS_SUCCESS, payload: lists.data.data.listData})\n\t}catch(e){\n\t\tyield put({type: types.GET_LISTS_FAILURE, payload: e.message})\n\t}\n}\n\n\nfunction* postApi(action){\n\ttry{\n\t\tlet newList = yield axios.post('http://localhost:3001/lists',action.payload);\n\t\tyield put({type: types.POST_LIST_SUCCESS, payload: newList.data})\n\t}catch(e){\n\t\tyield put({type: types.POST_LIST_FAILURE, payload: e.message})\t\n\t}\n}\n\nfunction* editList(action){\n\ttry{\n\t\tlet newList = yield axios.put(`http://localhost:3001/lists/${action.payload.id}`,action.payload.data);\n\t\tyield put({type: types.PUT_LIST_SUCCESS, payload: newList.data})\n\t}catch(e){\n\t\tyield put({type: types.PUT_LIST_FAILURE, payload: e.message})\t\n\t}\n}\n\nfunction* deleteList(action){\n\ttry{\n\t\tlet newList = yield axios.delete(`http://localhost:3001/lists/delete/${action.payload}`)\n\t\tyield put({type: types.DELETE_LIST_SUCCESS, payload: newList.data.data})\n\t}catch(e){\n\t\tyield put({type: types.DELETE_LIST_FAILURE, payload: e.message})\n\t}\n}\n\nfunction* listSaga(){\n\tyield takeLatest(types.GET_LISTS_REQUEST,fetchLists);\n\tyield takeEvery(types.POST_LIST_REQUEST, postApi);\n\tyield takeEvery(types.PUT_LIST_REQUEST, editList);\n\tyield takeEvery(types.DELETE_LIST_REQUEST, deleteList)\n}\n\nexport default listSaga;\n"]},"metadata":{},"sourceType":"module"}